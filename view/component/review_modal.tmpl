{{define "review_modal"}}
<div class="modal-overlay active" id="reviewModal">
    <div class="modal">
        <div class="modal-header">
            <button class="modal-close" onclick="closeReviewModal()">
                <svg class="modal-close-icon" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>

            <h2 class="modal-title">
                <svg class="modal-title-icon" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
                </svg>
                Votre avis nous intéresse
            </h2>
            <p class="modal-subtitle">Partagez votre expérience avec nous</p>
        </div>

        <div class="modal-body" id="reviewForm">
            <div class="appointment-info">
                <div class="appointment-date">
                    <svg class="info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                        <line x1="16" y1="2" x2="16" y2="6"></line>
                        <line x1="8" y1="2" x2="8" y2="6"></line>
                        <line x1="3" y1="10" x2="21" y2="10"></line>
                    </svg>
                    Rendez-vous du 15 janvier 2024 à 14:30
                </div>
                <div class="appointment-service">Coupe homme + Taille de barbe</div>
                <div class="appointment-employee">
                    <svg class="info-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                        <circle cx="12" cy="7" r="4"></circle>
                    </svg>
                    Avec {{.UserName}}
                </div>
            </div>

            <div class="rating-section">
                <div class="rating-label">Comment évaluez-vous votre expérience ?</div>

                <div class="star-rating" id="starRating">
                    <svg class="star" data-rating="1" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
                    </svg>
                    <svg class="star" data-rating="2" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
                    </svg>
                    <svg class="star" data-rating="3" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
                    </svg>
                    <svg class="star" data-rating="4" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
                    </svg>
                    <svg class="star" data-rating="5" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
                    </svg>
                    <input type="number" name="rating" class="hidden" id="rating" />
                </div>

                <div class="rating-text" id="ratingText">Cliquez sur les étoiles pour noter la prestation</div>
            </div>

            <div class="comment-section">
                <label for="reviewComment" class="comment-label">Votre commentaire (optionnel)</label>
                <textarea 
                        name="comment"
                        id="reviewComment" 
                        class="comment-textarea" 
                        placeholder="Partagez votre expérience, ce qui vous a plu ou ce qui pourrait être amélioré..."
                        maxlength="250"
                        ></textarea>
                <div class="character-count" id="characterCount">0/250 caractères</div>
            </div>

            <div class="modal-footer" id="modalFooter">
                <button class="btn btn-danger" onclick="closeReviewModal()" hx-delete="/review/{{.Id}}" hx-swap="delete" hx-target="closest #reviewModal">Je veux pas</button>
                <button class="btn btn-primary" id="submitReview" disabled hx-post="/review/{{.Id}}" hx-target="#reviewForm" hx-include="closest #reviewForm" hx-ext="json-enc-custom">
                    <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">                                                             
                        <path d="M12 19l7-7 3 3-7 7-3-3z"></path>                                                                                                                                      
                        <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path>                                                                                                                      
                        <path d="M2 2l7.586 7.586"></path>                                                                                                                                             
                        <circle cx="11" cy="11" r="2"></circle>
                    </svg>
                    Envoyer mon avis
                </button>
            </div>
        </div>
    </div>
</div>
{{end}}
